@import 'tailwindcss';

/*
  ===============================
  AI Review 统一颜色系统
  ===============================
  
  主色调 (Primary): 使用 primary-{shade} 系列
  - primary-50 到 primary-950: 从最浅到最深的 teal 色调
  - 主要用于按钮、链接、焦点状态等
  
  灰色系 (Gray): 使用 gray-{shade} 系列  
  - gray-50 到 gray-950: 从最浅到最深的灰色
  - 用于文本、边框、背景等
  
  状态颜色: 使用对应的语义颜色
  - 成功: green-{shade}
  - 错误: red-{shade} 
  - 警告: orange-{shade}
  - 信息: blue-{shade}
  
  主题专用颜色: 
  - 深色主题: dark-primary, dark-secondary, dark-accent
  - 浅色主题: light-primary, light-secondary, light-accent
  
  使用示例:
  - 按钮: bg-primary-500 hover:bg-primary-600
  - 文本: text-gray-900 dark:text-gray-100
  - 边框: border-gray-300 dark:border-gray-600
  - 焦点: focus:ring-primary-500 focus:border-primary-500
  
  ===============================
*/

/* Tailwind CSS v4 自定义颜色配置 */
@theme {
  --color-primary-50: #f0fdfa;
  --color-primary-100: #ccfbf1;
  --color-primary-200: #99f6e4;
  --color-primary-300: #5eead4;
  --color-primary-400: #2dd4bf;
  --color-primary-500: #14b8a6;
  --color-primary-600: #0d9488;
  --color-primary-700: #0f766e;
  --color-primary-800: #115e59;
  --color-primary-900: #134e4a;
  --color-primary-950: #042f2e;
  
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  --color-gray-950: #030712;
  
  --color-blue-50: #eff6ff;
  --color-blue-100: #dbeafe;
  --color-blue-200: #bfdbfe;
  --color-blue-300: #93c5fd;
  --color-blue-400: #60a5fa;
  --color-blue-500: #3b82f6;
  --color-blue-600: #2563eb;
  --color-blue-700: #1d4ed8;
  --color-blue-800: #1e40af;
  --color-blue-900: #1e3a8a;
  --color-blue-950: #172554;
  
  --color-green-50: #f0fdf4;
  --color-green-100: #dcfce7;
  --color-green-200: #bbf7d0;
  --color-green-300: #86efac;
  --color-green-400: #4ade80;
  --color-green-500: #22c55e;
  --color-green-600: #16a34a;
  --color-green-700: #15803d;
  --color-green-800: #166534;
  --color-green-900: #14532d;
  --color-green-950: #052e16;
  
  --color-red-50: #fef2f2;
  --color-red-100: #fee2e2;
  --color-red-200: #fecaca;
  --color-red-300: #fca5a5;
  --color-red-400: #f87171;
  --color-red-500: #ef4444;
  --color-red-600: #dc2626;
  --color-red-700: #b91c1c;
  --color-red-800: #991b1b;
  --color-red-900: #7f1d1d;
  --color-red-950: #450a0a;
  
  --color-orange-50: #fff7ed;
  --color-orange-100: #ffedd5;
  --color-orange-200: #fed7aa;
  --color-orange-300: #fdba74;
  --color-orange-400: #fb923c;
  --color-orange-500: #f97316;
  --color-orange-600: #ea580c;
  --color-orange-700: #c2410c;
  --color-orange-800: #9a3412;
  --color-orange-900: #7c2d12;
  --color-orange-950: #431407;
  
  --color-purple-50: #faf5ff;
  --color-purple-100: #f3e8ff;
  --color-purple-200: #e9d5ff;
  --color-purple-300: #d8b4fe;
  --color-purple-400: #c084fc;
  --color-purple-500: #a855f7;
  --color-purple-600: #9333ea;
  --color-purple-700: #7c3aed;
  --color-purple-800: #6b21a8;
  --color-purple-900: #581c87;
  --color-purple-950: #3b0764;
  
  /* 主题专用颜色 */
  --color-dark-primary: #1f1f2b;
  --color-dark-secondary: #272b3a;
  --color-dark-accent: #374151;
  
  --color-light-primary: #ffffff;
  --color-light-secondary: #f9fafb;
  --color-light-accent: #f3f4f6;
  
  /* 字体大小定义 */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 0.875rem;
  --font-size-lg: 1rem;
  --font-size-xl: 1.125rem;
  --font-size-2xl: 1.25rem;
  
  /* 基础字体设置 */
  --font-family-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-family-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  
  /* 间距定义 */
  --spacing-18: 4.5rem;
  --spacing-88: 22rem;
}

/* 全局样式重置 */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

#app {
  width: 100%;
  height: 100vh;
}

/* 代码样式 */
code {
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
}

/* 主题样式 */
html.light {
  background-color: var(--color-light-primary);
  color: var(--color-gray-800);
}

html.dark {
  background-color: var(--color-dark-primary);
  color: var(--color-gray-200);
}

/* 确保主题样式优先级 */
html.light body {
  background-color: var(--color-light-primary);
  color: var(--color-gray-800);
}

html.dark body {
  background-color: var(--color-dark-primary);
  color: var(--color-gray-200);
}

/* 深色模式下的背景覆盖 - 移除!important，使用更具体的选择器 */
html.dark .bg-white {
  background-color: var(--color-dark-secondary);
}

html.dark .bg-gray-100 {
  background-color: var(--color-gray-700);
}

html.dark .bg-gray-50 {
  background-color: var(--color-gray-800);
}

/* 深色模式下的文字颜色 */
html.dark .text-gray-900 {
  color: var(--color-gray-100);
}

html.dark .text-gray-800 {
  color: var(--color-gray-200);
}

html.dark .text-gray-700 {
  color: var(--color-gray-300);
}

html.dark .text-gray-600 {
  color: var(--color-gray-400);
}

/* 深色模式下的边框 */
html.dark .border-gray-200 {
  border-color: var(--color-gray-700);
}

html.dark .border-gray-300 {
  border-color: var(--color-gray-600);
}

/* 自定义按钮样式 */
.btn {
  @apply px-3 py-2 rounded-md font-medium transition-colors text-xs flex items-center gap-1;
}

.btn-primary {
  @apply bg-primary-500 text-white hover:bg-primary-600 focus:ring-2 focus:ring-primary-200;
}

html.dark .btn-primary {
  --tw-ring-color: var(--color-primary-800);
}

.btn-secondary {
  @apply bg-gray-200 text-gray-700 hover:bg-gray-300;
}

html.dark .btn-secondary {
  background-color: var(--color-gray-700);
  color: var(--color-gray-300);
}

html.dark .btn-secondary:hover {
  background-color: var(--color-gray-600);
}

.btn-success {
  @apply bg-green-500 text-white hover:bg-green-600 focus:ring-2 focus:ring-green-200;
}

.btn-danger {
  @apply bg-red-500 text-white hover:bg-red-600 focus:ring-2 focus:ring-red-200;
}

.btn:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* 输入框样式 */
.input,
.textarea {
  @apply w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm;
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500;
  @apply bg-white text-gray-900 transition-colors duration-200 text-xs;
}

html.dark .input,
html.dark .textarea {
  background-color: var(--color-gray-700);
  color: var(--color-gray-100);
  border-color: var(--color-gray-600);
}

.textarea {
  @apply resize-none;
}

/* 主题背景样式 */
.bg-light-primary {
  background-color: var(--color-light-primary);
}

.bg-light-secondary {
  background-color: var(--color-light-secondary);
}

.bg-dark-primary {
  background-color: var(--color-dark-primary);
}

.bg-dark-secondary {
  background-color: var(--color-dark-secondary);
}

/* Tab样式 */
.tab-container {
  @apply bg-gray-100 rounded-lg p-1 border border-gray-300 flex;
}

html.dark .tab-container {
  background-color: var(--color-dark-secondary);
  border-color: var(--color-gray-700);
}

.tab-button {
  @apply px-6 py-2 rounded-md text-sm font-medium relative z-10;
  @apply text-gray-600 hover:text-gray-900;
  position: relative;
}

html.dark .tab-button {
  color: var(--color-gray-400);
}

html.dark .tab-button:hover {
  color: var(--color-gray-100);
}

.tab-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(20, 184, 166, 0.1), rgba(20, 184, 166, 0.05));
  border-radius: inherit;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.tab-button:hover::before {
  opacity: 1;
}

.tab-active {
  @apply bg-white text-primary-600 shadow-sm border border-gray-200;
}

html.dark .tab-active {
  background-color: var(--color-gray-700);
  color: var(--color-primary-400);
  border-color: var(--color-gray-600);
}

.tab-inactive {
  @apply text-gray-600 hover:text-gray-900 hover:bg-gray-50;
}

html.dark .tab-inactive {
  color: var(--color-gray-400);
}

html.dark .tab-inactive:hover {
  color: var(--color-gray-100);
  background-color: rgba(55, 65, 81, 0.5);
}

/* Tab内容区域样式 */
.tab-content {
}

/* 通用卡片样式 */
.card {
  @apply bg-white rounded-xl p-6 shadow-lg border border-gray-200;
  /* 移除transition避免动画 */
}

html.dark .card {
  background-color: var(--color-dark-secondary);
  border-color: var(--color-gray-700);
}

.card-header {
  @apply flex items-center mb-6;
}

.card-header .flex-1 {
  @apply flex-1;
}

.card-icon {
  @apply w-12 h-12 rounded-lg flex items-center justify-center mr-4;
  /* 移除transition避免动画 */
}

.card-title {
  @apply text-lg font-semibold text-gray-900;
  /* 移除transition避免动画 */
}

html.dark .card-title {
  color: var(--color-gray-100);
}

.card-subtitle {
  @apply text-sm text-gray-600;
  /* 移除transition避免动画 */
}

html.dark .card-subtitle {
  color: var(--color-gray-400);
}

/* 卡片背景样式 */
.card-bg {
  @apply bg-white;
}

html.dark .card-bg {
  background-color: var(--color-dark-secondary);
}

.card-bg-secondary {
  @apply bg-gray-50;
}

html.dark .card-bg-secondary {
  background-color: var(--color-dark-primary);
}

.card-bg-accent {
  @apply bg-gray-100;
}

html.dark .card-bg-accent {
  background-color: var(--color-gray-800);
}

/* 卡片文字样式 */
.card-text {
  @apply text-gray-900;
}

html.dark .card-text {
  color: var(--color-gray-100);
}

.card-text-secondary {
  @apply text-gray-600;
}

html.dark .card-text-secondary {
  color: var(--color-gray-400);
}

/* 卡片边框样式 */
.card-border {
  @apply border-gray-200;
}

html.dark .card-border {
  border-color: var(--color-gray-600);
}

/* 悬停背景样式 */
.hover-bg {
  @apply hover:bg-gray-100;
}

html.dark .hover-bg:hover {
  background-color: var(--color-gray-700);
}

/* 弹窗专用Markdown文字样式 - 增强对比度 */
.popup-markdown-text {
  @apply text-gray-900;
  color: var(--color-gray-900);
}

html.dark .popup-markdown-text {
  color: var(--color-gray-100);
}

/* 弹窗Markdown内容增强样式 */
.popup-markdown-text .markdown-content h1,
.popup-markdown-text .markdown-content h2,
.popup-markdown-text .markdown-content h3,
.popup-markdown-text .markdown-content h4,
.popup-markdown-text .markdown-content h5,
.popup-markdown-text .markdown-content h6 {
  color: var(--color-gray-900);
  font-weight: 600;
}

html.dark .popup-markdown-text .markdown-content h1,
html.dark .popup-markdown-text .markdown-content h2,
html.dark .popup-markdown-text .markdown-content h3,
html.dark .popup-markdown-text .markdown-content h4,
html.dark .popup-markdown-text .markdown-content h5,
html.dark .popup-markdown-text .markdown-content h6 {
  color: var(--color-gray-100);
}

.popup-markdown-text .markdown-content p {
  color: var(--color-gray-800);
  line-height: 1.6;
}

html.dark .popup-markdown-text .markdown-content p {
  color: var(--color-gray-200);
}

.popup-markdown-text .markdown-content li {
  color: var(--color-gray-800);
}

html.dark .popup-markdown-text .markdown-content li {
  color: var(--color-gray-200);
}

.popup-markdown-text .markdown-content strong {
  color: var(--color-gray-900);
  font-weight: 600;
}

html.dark .popup-markdown-text .markdown-content strong {
  color: var(--color-gray-100);
}

/* McpPopup 深色模式样式 */
html.dark .popup-container {
  background-color: var(--color-dark-primary);
}

html.dark .popup-content {
  background-color: var(--color-dark-primary);
}

html.dark .popup-container .bg-white {
  background-color: var(--color-dark-secondary);
}

html.dark .popup-container .bg-light-secondary {
  background-color: var(--color-dark-primary);
}

html.dark .popup-container .text-gray-600 {
  color: var(--color-gray-400);
}

html.dark .popup-container .border-gray-200 {
  border-color: var(--color-gray-700);
}

html.dark .popup-container .hover\:bg-gray-100:hover {
  background-color: var(--color-gray-700);
}

/* ThemeSettings 深色模式样式 */
html.dark .card .bg-purple-100 {
  background-color: var(--color-purple-900);
}

/* 移除重复规则，已在全局定义 */

/* App.vue 深色模式样式 */
html.dark #app {
  background-color: var(--color-dark-primary);
}

html.dark .card .bg-blue-100 {
  background-color: var(--color-blue-900);
}

html.dark .card .bg-orange-100 {
  background-color: var(--color-orange-900);
}

html.dark .bg-primary-50 {
  background-color: rgba(20, 184, 166, 0.1);
}

html.dark .text-primary-700 {
  color: var(--color-primary-300);
}

html.dark .border-primary-200 {
  border-color: rgba(20, 184, 166, 0.3);
}

html.dark .bg-gray-100 {
  background-color: var(--color-gray-900);
}

html.dark .text-gray-800 {
  color: var(--color-gray-300);
}

/* WindowSettings 和 ReplySettings 深色模式样式 */
html.dark .card .bg-green-100 {
  background-color: var(--color-green-900);
}

/* 移除重复的全局样式规则，避免冗余 */
html.dark .focus\:ring-offset-white:focus {
  --tw-ring-offset-color: var(--color-gray-800);
}

/* Modal样式 */
.modal-overlay {
  @apply fixed inset-0 bg-black/50 flex items-center justify-center z-50;
}

.modal {
  @apply bg-white rounded-lg shadow-xl max-w-md w-full mx-4;
}

html.dark .modal {
  background-color: var(--color-gray-800);
}

.modal-header {
  @apply px-6 py-4 border-b border-gray-200;
}

html.dark .modal-header {
  border-color: var(--color-gray-700);
}

.modal-body {
  @apply px-6 py-4;
}

.modal-footer {
  @apply px-6 py-4 border-t border-gray-200 flex justify-end gap-2;
}

html.dark .modal-footer {
  border-color: var(--color-gray-700);
}

/* Checkbox样式 */
.checkbox {
  @apply relative;
}

.checkbox input {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

.checkbox-box {
  @apply w-4 h-4 border-2 border-gray-300 dark:border-gray-600 rounded;
  @apply transition-colors duration-200 relative;
}

.checkbox input:checked + .checkbox-box {
  @apply bg-primary-500 border-primary-500;
}

.checkbox input:checked + .checkbox-box::after {
  content: '✓';
  @apply absolute inset-0 text-white text-xs flex items-center justify-center;
}

/* Alert样式 */
.alert {
  @apply px-4 py-3 rounded-md border-l-4;
}

.alert-info {
  @apply bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-700 dark:text-blue-300;
}

.alert-success {
  @apply bg-green-50 dark:bg-green-900/20 border-green-500 text-green-700 dark:text-green-300;
}

.alert-warning {
  @apply bg-orange-50 dark:bg-orange-900/20 border-orange-500 text-orange-700 dark:text-orange-300;
}

.alert-error {
  @apply bg-red-50 dark:bg-red-900/20 border-red-500 text-red-700 dark:text-red-300;
}

/* 动画和过渡效果 */
.popup-container {
  @apply fixed inset-0 z-50 flex items-center justify-center;
  background-color: var(--color-light-primary);
}

html.dark .popup-container {
  background-color: var(--color-dark-primary);
}

.popup-content {
  animation: fadeIn 0.3s ease-out, slideIn 0.3s ease-out;
  background-color: var(--color-light-primary);
}

html.dark .popup-content {
  background-color: var(--color-dark-primary);
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* 平滑按钮效果 */
.smooth-button {
  @apply transition-colors duration-200 ease-in-out;
}

.smooth-button:hover:not(:disabled) {
  @apply shadow-md;
}

.smooth-button:active:not(:disabled) {
  @apply opacity-90;
}

/* 平滑文本域效果 */
.smooth-textarea {
  @apply transition-colors duration-200 ease-in-out;
}

.smooth-textarea:focus {
}

/* 自动调整大小的文本域 */
.auto-resize-textarea {
  resize: none;
  overflow: hidden;
  min-height: 60px;
  max-height: 200px;
}

/* 平滑选项效果 */
.smooth-option {
  @apply transition-colors duration-200 ease-in-out;
}

.smooth-option:hover {
  @apply shadow-sm;
}

.smooth-option:active {
  @apply opacity-95;
}

/* Markdown内容样式 */
.markdown-content {
  @apply text-sm leading-relaxed;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
  @apply font-bold mb-2 mt-4 text-gray-900 dark:text-gray-100;
}

.markdown-content h1 {
  @apply text-lg;
}

.markdown-content h2 {
  @apply text-base;
}

.markdown-content h3 {
  @apply text-sm;
}

.markdown-content h4 {
  @apply text-sm;
}

.markdown-content h5 {
  @apply text-xs;
}

.markdown-content h6 {
  @apply text-xs;
}

.markdown-content p {
  @apply mb-3 text-gray-700 dark:text-gray-300;
  line-height: 1.6;
}

.markdown-content ul,
.markdown-content ol {
  @apply mb-3 pl-4;
  padding-left: 1.2em;
}

.markdown-content li {
  @apply mb-1 text-gray-700 dark:text-gray-300;
  line-height: 1.5;
}

.markdown-content blockquote {
  @apply border-l-4 border-gray-300 dark:border-gray-600 pl-4 mb-3;
  @apply italic text-gray-600 dark:text-gray-400;
  background: rgba(0, 0, 0, 0.02);
  padding: 0.5em 1em;
}

html.dark .markdown-content blockquote {
  background: rgba(255, 255, 255, 0.02);
}

.markdown-content pre {
  @apply bg-gray-100 rounded-md p-3 mb-3 overflow-x-auto text-xs;
  border: 1px solid rgba(0, 0, 0, 0.1);
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
}

html.dark .markdown-content pre {
  background-color: var(--color-gray-800);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

html.dark .markdown-content pre code,
html.dark .markdown-content .hljs {
  @apply bg-transparent text-gray-200;
}

html.dark .markdown-content .hljs {
  background: transparent !important;
}

html.dark .markdown-content .hljs-keyword,
html.dark .markdown-content .hljs-selector-tag,
html.dark .markdown-content .hljs-title,
html.dark .markdown-content .hljs-section,
html.dark .markdown-content .hljs-doctag,
html.dark .markdown-content .hljs-name,
html.dark .markdown-content .hljs-strong {
  color: #f59e0b;
}

html.dark .markdown-content .hljs-string {
  color: #34d399;
}

html.dark .markdown-content .hljs-comment {
  color: #9ca3af;
}

html.dark .markdown-content .hljs-number {
  color: #60a5fa;
}

html.dark .markdown-content .hljs-function,
html.dark .markdown-content .hljs-class,
html.dark .markdown-content .hljs-title.class_,
html.dark .markdown-content .hljs-title.function_ {
  color: #a78bfa;
}

.markdown-content code {
  @apply bg-gray-100 px-1 py-0.5 rounded text-xs text-gray-800;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  font-size: 0.85em;
  padding: 0.1em 0.3em;
  border-radius: 3px;
}

html.dark .markdown-content code {
  background-color: rgba(55, 65, 81, 0.7);
  color: #e5e7eb;
}

.markdown-content pre code {
  @apply bg-transparent p-0 text-xs;
  border-radius: 0;
  font-size: inherit;
  color: inherit;
}

.markdown-content a {
  @apply text-primary-600 hover:text-primary-700 underline transition-colors duration-200;
}

html.dark .markdown-content a {
  color: var(--color-primary-400);
}

html.dark .markdown-content a:hover {
  color: var(--color-primary-300);
}

.markdown-content strong {
  @apply font-semibold text-gray-900;
}

html.dark .markdown-content strong {
  color: var(--color-gray-100);
}

.markdown-content em {
  @apply italic;
}

.markdown-content hr {
  @apply border-0 border-t border-gray-200 my-4;
}

html.dark .markdown-content hr {
  border-color: var(--color-gray-700);
}

/* 消息容器动画 */
.message-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9999;
  max-width: 400px;
  pointer-events: none;
}

.message-item {
  @apply mb-3 p-4 rounded-lg shadow-lg border;
  pointer-events: auto;
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.9);
}

html.dark .message-item {
  background: rgba(39, 43, 58, 0.9);
}

.message-success {
  @apply border-green-200 text-green-800;
  background: rgba(34, 197, 94, 0.1);
}

html.dark .message-success {
  border-color: var(--color-green-800);
  color: var(--color-green-200);
}

.message-error {
  @apply border-red-200 text-red-800;
  background: rgba(239, 68, 68, 0.1);
}

html.dark .message-error {
  border-color: var(--color-red-800);
  color: var(--color-red-200);
}

.message-info {
  @apply border-blue-200 text-blue-800;
  background: rgba(59, 130, 246, 0.1);
}

html.dark .message-info {
  border-color: var(--color-blue-800);
  color: var(--color-blue-200);
}

.message-warning {
  @apply border-orange-200 text-orange-800;
  background: rgba(249, 115, 22, 0.1);
}

html.dark .message-warning {
  border-color: var(--color-orange-800);
  color: var(--color-orange-200);
}
